# üîó –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä—ñ–∑–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **Vitest**, **TypeScript**, **Vue 3** —Ç–∞ **Pinia**.

## üìö –©–æ —Ç–∞–∫–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏?

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏** –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å —è–∫ —Ä—ñ–∑–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É –ø—Ä–∞—Ü—é—é—Ç—å —Ä–∞–∑–æ–º. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ unit-—Ç–µ—Å—Ç—ñ–≤, —è–∫—ñ —Ç–µ—Å—Ç—É—é—Ç—å —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏:

- üîó –ü–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- üåê –¢–µ—Å—Ç—É—é—Ç—å —Ä–æ–±–æ—Ç—É –∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- üèóÔ∏è –í–∞–ª—ñ–¥—É—é—Ç—å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è
- üéØ –í–∏—è–≤–ª—è—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å–∏—Å—Ç–µ–º–∏

## üéØ –ö–µ–π—Å–∏, —â–æ —Ä–æ–∑–≥–ª—è–¥–∞—é—Ç—å—Å—è

### 1. [Network Mocking](src/1-network-mocking/) üì°
**–ú–µ—Ç–∞**: –ü–æ–∫–∞–∑–∞—Ç–∏ —è–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ HTTP-–∫–ª—ñ—î–Ω—Ç–∏ —Ç–∞ API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é

**–©–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç—å—Å—è**:
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è MSW (Mock Service Worker) –¥–ª—è –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö HTTP —Å—Ç–∞—Ç—É—Å—ñ–≤ (200, 404, 500)
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ
- Retry –ª–æ–≥—ñ–∫–∞
- Timeout scenarios

**–ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏**:
- `api-client.ts` - HTTP –∫–ª—ñ—î–Ω—Ç –∑ axios
- `user-repository.ts` - Repository pattern –¥–ª—è API
- `user-repository.test.ts` - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏

```typescript
// –ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ MSW
test('–ø–æ–≤–∏–Ω–µ–Ω –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ ID', async () => {
  const user = await userRepository.getUserById(1)
  expect(user.name).toBe('–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á 1')
})
```

### 2. [Browser APIs Mocking](src/2-browser-apis/) üåê
**–ú–µ—Ç–∞**: –ü–æ–∫–∞–∑–∞—Ç–∏ —è–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ñ API

**–©–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç—å—Å—è**:
- –ú–æ–∫—É–≤–∞–Ω–Ω—è localStorage/sessionStorage
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Geolocation API
- –†–æ–±–æ—Ç–∞ –∑ Notification API
- –û–±—Ä–æ–±–∫–∞ permissions —Ç–∞ –ø–æ–º–∏–ª–æ–∫
- Cross-browser —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å

**–ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏**:
- `storage-service.ts` - –û–±–≥–æ—Ä—Ç–∫–∞ –¥–ª—è Web Storage
- `location-service.ts` - –°–µ—Ä–≤—ñ—Å –≥–µ–æ–ª–æ–∫–∞—Ü—ñ—ó
- `notification-service.ts` - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è–º–∏
- `browser-services.test.ts` - –¢–µ—Å—Ç–∏ –≤—Å—ñ—Ö API

```typescript
// –ü—Ä–∏–∫–ª–∞–¥ –º–æ–∫—É–≤–∞–Ω–Ω—è localStorage
const mockStorage = {
  data: {},
  setItem: vi.fn((key, value) => mockStorage.data[key] = value),
  getItem: vi.fn(key => mockStorage.data[key] || null)
}
```

### 3. [Vue3 + Pinia Integration](src/3-vue-pinia/) ‚ö°
**–ú–µ—Ç–∞**: –ü–æ–∫–∞–∑–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑ Pinia store

**–©–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç—å—Å—è**:
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
- Pinia store —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- Props —Ç–∞ events
- Computed properties —Ç–∞ watchers
- Lifecycle hooks

**–ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏**:
- `stores/user-store.ts` - Pinia store –∑ async actions
- `components/UserProfile.vue` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Ñ—ñ–ª—é
- `components/UserList.vue` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫—É
- `user-components.test.ts` - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏

```typescript
// –ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Vue + Pinia
test('–ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ store', async () => {
  const store = useUserStore()
  store.setCurrentUser(mockUser)
  
  const wrapper = mount(UserProfile)
  expect(wrapper.find('[data-testid="user-name"]').text()).toBe(mockUser.name)
})
```

### 4. [TestContainer + Redis](src/4-testcontainer/) üê≥
**–ú–µ—Ç–∞**: –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏

**–©–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î—Ç—å—Å—è**:
- –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Redis
- Lifecycle —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- Real vs Mock testing
- Cleanup —Ç–∞ —ñ–∑–æ–ª—è—Ü—ñ—è

**–ö–ª—é—á–æ–≤—ñ —Ñ–∞–π–ª–∏**:
- `session-service.ts` - –°–µ—Ä–≤—ñ—Å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Redis
- `session-service.test.ts` - –¢–µ—Å—Ç–∏ –∑ TestContainer

```typescript
// –ü—Ä–∏–∫–ª–∞–¥ –∑ TestContainer
test('–ø–æ–≤–∏–Ω–µ–Ω –∑–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–µ—Å—ñ—é –∑ Redis', async () => {
  const redisContainer = await new GenericContainer('redis:7-alpine')
    .withExposedPorts(6379)
    .start()
    
  // –¢–µ—Å—Ç –∑ —Ä–µ–∞–ª—å–Ω–∏–º Redis...
})
```

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
pnpm install
```

### –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
```bash
pnpm test
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –∑ UI
```bash
pnpm test:ui
```

### –ó–∞–ø—É—Å–∫ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º –∫–æ–¥—É
```bash
pnpm test:coverage
```

### –ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–∏—Ö –∫–µ–π—Å—ñ–≤
```bash
# Network mocking
pnpm test src/1-network-mocking

# Browser APIs
pnpm test src/2-browser-apis

# Vue + Pinia
pnpm test src/3-vue-pinia

# TestContainer
pnpm test src/4-testcontainer
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

### Vitest –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
```typescript
export default defineConfig({
  test: {
    environment: 'happy-dom',
    setupFiles: ['./test/setup.ts'],
    testTimeout: 30000 // –î–ª—è TestContainers
  }
})
```

### MSW –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```typescript
// test/setup.ts
import { server } from './mocks/server'

beforeAll(() => server.listen())
afterEach(() => server.resetHandlers())
afterAll(() => server.close())
```

## üí° –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ –©–æ —Ä–æ–±–∏—Ç–∏

1. **–Ü–∑–æ–ª—é–π—Ç–µ —Ç–µ—Å—Ç–∏** - –∫–æ–∂–µ–Ω —Ç–µ—Å—Ç –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º
2. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ data-testid** - –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–∏—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä—ñ–≤
3. **–¢–µ—Å—Ç—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ workflow
4. **–ú–æ–∫–∞–π—Ç–µ –∑–æ–≤–Ω—ñ—à–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ** - –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ
5. **–û—á–∏—â—É–π—Ç–µ –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—ñ–≤** - cleanup —Ñ—É–Ω–∫—Ü—ñ—ó
6. **–¢–µ—Å—Ç—É–π—Ç–µ –ø–æ–º–∏–ª–∫–∏** - error scenarios
7. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç–∏–ø–∏** - TypeScript –¥–ª—è –±–µ–∑–ø–µ–∫–∏

### ‚ùå –ß–æ–≥–æ —É–Ω–∏–∫–∞—Ç–∏

1. **–ù–µ —Ç–µ—Å—Ç—É–π—Ç–µ implementation details** - –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –ª–æ–≥—ñ–∫—É
2. **–ù–µ —Ä–æ–±—ñ—Ç—å —Ç–µ—Å—Ç–∏ –∑–∞–ª–µ–∂–Ω–∏–º–∏** - –æ–¥–∏–Ω –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ
3. **–ù–µ —ñ–≥–Ω–æ—Ä—É–π—Ç–µ async –æ–ø–µ—Ä–∞—Ü—ñ—ó** - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ await
4. **–ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –ø—Ä–æ cleanup** - memory leaks
5. **–ù–µ —Ç–µ—Å—Ç—É–π—Ç–µ —Å—Ç–æ—Ä–æ–Ω–Ω—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - —Ç—ñ–ª—å–∫–∏ –≤–∞—à—É –ª–æ–≥—ñ–∫—É

## üéì –ù–∞–≤—á–∞–ª—å–Ω—ñ —Ü—ñ–ª—ñ

–ü—ñ—Å–ª—è –≤–∏–≤—á–µ–Ω–Ω—è —Ü–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

- üß™ –ü–∏—Å–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
- üé≠ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –º–æ–∫—É–≤–∞–Ω–Ω—è
- üîó –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- üåê –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—Ä–∞—É–∑–µ—Ä–Ω–∏–º–∏ API –≤ —Ç–µ—Å—Ç–∞—Ö
- ‚ö° –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ state management (Pinia)
- üê≥ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ TestContainers
- üìä –†–æ–∑—É–º—ñ—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ unit —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏

## üìñ –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Vitest Documentation](https://vitest.dev/)
- [MSW Documentation](https://mswjs.io/)
- [Vue Test Utils](https://vue-test-utils.vuejs.org/)
- [Pinia Testing](https://pinia.vuejs.org/cookbook/testing.html)
- [TestContainers](https://testcontainers.com/)

## ü§ù –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ–¥—Ö–æ–¥—ñ–≤

| –ü—ñ–¥—Ö—ñ–¥ | –ü–µ—Ä–µ–≤–∞–≥–∏ | –ù–µ–¥–æ–ª—ñ–∫–∏ | –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ |
|--------|----------|----------|---------------------|
| **MSW** | –†–µ–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ HTTP —Ç–µ—Å—Ç–∏ | –°–∫–ª–∞–¥–Ω—ñ—à–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è | API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è |
| **Browser API Mocks** | –®–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏ | –ù–µ —Ç–µ—Å—Ç—É—î —Ä–µ–∞–ª—å–Ω–∏–π API | localStorage, geolocation |
| **Component Integration** | –ü–æ–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è UI | –ü–æ–≤—ñ–ª—å–Ω—ñ—à—ñ —Ç–µ—Å—Ç–∏ | User workflows |
| **TestContainer** | –†–µ–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ | –ü–æ—Ç—Ä–µ–±—É—î Docker | Database, Redis |

## üîç Debugging —Ç–µ—Å—Ç—ñ–≤

### –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤ —Ç–µ—Å—Ç–∞—Ö
```typescript
// –í–∫–ª—é—á–∏—Ç–∏ –ª–æ–≥–∏ MSW
server.use(
  http.get('/api/users', ({ request }) => {
    console.log('Request:', request.url)
    return HttpResponse.json(users)
  })
)
```

### –í–∏–≤–æ–¥–∏—Ç–∏ DOM –≤ —Ç–µ—Å—Ç–∞—Ö
```typescript
// Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
console.log(wrapper.html())

// Browser APIs
console.log(localStorage.getItem('test'))
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Vitest UI
```bash
npm run test:ui
```

---

**–ê–≤—Ç–æ—Ä–∏**: –ö–æ–º–∞–Ω–¥–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–æ–∑—Ä–æ–±–∫–∏  
**–í–µ—Ä—Å—ñ—è**: 1.0.0  
**–î–∞—Ç–∞**: 2024

> üí° **–ü—ñ–¥–∫–∞–∑–∫–∞**: –ü–æ—á–Ω—ñ—Ç—å –∑ –ø—Ä–æ—Å—Ç–∏—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ (Network Mocking) —ñ –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø–µ—Ä–µ—Ö–æ–¥—å—Ç–µ –¥–æ —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö (TestContainer) 